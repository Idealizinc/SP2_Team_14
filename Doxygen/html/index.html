<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.10"/>
<title>My Application: irrKlang 1.5.0 API documentation</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">My Application
   &#160;<span id="projectnumber">1.0</span>
   </div>
   <div id="projectbrief">This application render a 3D scene</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.10 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li class="current"><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">irrKlang 1.5.0 API documentation </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><div align="center"><div class="image">
<img src="logobig.png" />
</div>
</div><h1><a class="anchor" id="contents"></a>
Contents</h1>
<p>General:<br />
 <a class="el" href="index.html#intro">Introduction</a> <br />
 <a class="el" href="index.html#features">Features of irrKlang</a> <br />
 <a class="el" href="index.html#links">Links into the API documentation</a> <br />
 <a class="el" href="index.html#tipsandtricks">Tips and Tricks</a> <br />
 <br />
 Programming irrKlang:<br />
 <a class="el" href="index.html#concept">Starting up the Engine</a> <br />
 <a class="el" href="index.html#playingSounds">Playing Sounds</a> <br />
 <a class="el" href="index.html#changingSounds">Influencing Sounds during Playback</a> <br />
 <a class="el" href="index.html#soundSources">Using Sound Sources</a> <br />
 <a class="el" href="index.html#sound3d">3D Sound</a> <br />
 <a class="el" href="index.html#removingSounds">Removing Sounds</a> <br />
 <a class="el" href="index.html#events">Using Sound Events</a> <br />
 <a class="el" href="index.html#memoryPlayback">Memory Playback</a> <br />
 <a class="el" href="index.html#effects">Sound Effects</a> <br />
 <a class="el" href="index.html#fileOverriding">Overriding File Access</a> <br />
 <a class="el" href="index.html#audioDecoders">Adding Audio Decoders</a> <br />
 <a class="el" href="index.html#plugins">Creating irrKlang Plugins</a> <br />
 <a class="el" href="index.html#staticLib">Using irrKlang as static Lib</a> <br />
 <a class="el" href="index.html#enumeratingDevices">Enumerating sound devices</a> <br />
 <a class="el" href="index.html#recordingAudio">Recording Audio</a> <br />
 <a class="el" href="index.html#unicode">Unicode support</a> <br />
 <br />
 Short full examples:<br />
 <a class="el" href="index.html#quickstartexample">Quick Start Example</a> <br />
 <a class="el" href="index.html#quickstartexample2">Quick Start Example 2</a> <br />
 <br />
 <br />
</p>
<h1><a class="anchor" id="intro"></a>
Introduction</h1>
<p>Welcome to the irrKlang API documentation. This page should give you a short overview over irrKlang, the high level audio library. In this documentation files you'll find any information you'll need to develop applications with irrKlang using C++. If you are looking for a tutorial on how to start, you'll find some on the homepage of irrKlang at <a href="http://www.ambiera.com/irrklang">http://www.ambiera.com/irrklang</a> or inside the SDK in the directory .</p>
<p>The irrKlang library is intended to be an easy-to-use 3d and 2d sound engine, so this documentation is an important part of it. If you have any questions or suggestions, please take a look into the ambiera.com forum or just send a mail.</p>
<p><br />
 <br />
</p>
<h1><a class="anchor" id="features"></a>
Features of irrKlang</h1>
<p>irrKlang is a high level 2D and 3D cross platform sound engine and audio library. It has a very simply object orientated interface and was designed to be used in games, scientific simulations, architectural visualizations and similar. irrKlang plays several file formats such as </p><ul>
<li>
RIFF WAVE (*.wav) </li>
<li>
Ogg Vorbis (*.ogg) </li>
<li>
MPEG-1 Audio Layer 3 (*.mp3) </li>
<li>
Free Lossless Audio Codec (*.flac) </li>
<li>
Amiga Modules (*.mod) </li>
<li>
Impulse Tracker (*.it) </li>
<li>
Scream Tracker 3 (*.s3d) </li>
<li>
Fast Tracker 2 (*.xm) </li>
</ul>
<p>It is also able to run on different operating systems and use several output drivers: </p><ul>
<li>
Windows 98, ME, NT 4, 2000, XP, Vista, Windows 7, Windows 8 <ul>
<li>
DirectSound </li>
<li>
DirectSound8 </li>
<li>
WinMM </li>
</ul>
</li>
<li>
Linux / *nix <ul>
<li>
ALSA </li>
</ul>
</li>
<li>
MacOSX (x86 and PPC) <ul>
<li>
CoreAudio </li>
</ul>
</li>
</ul>
<p><br />
 <br />
 <br />
</p>
<h1><a class="anchor" id="links"></a>
Links into the API documentation</h1>
<p><a class="el" href="classirrklang_1_1ISoundEngine.html" title="Interface to the sound engine, for playing 3d and 2d sound and music. ">irrklang::ISoundEngine</a>: The main class of irrKlang.<br />
 <a href="annotated.html">Class list</a>: List of all classes with descriptions.<br />
 <a href="functions.html">Class members</a>: Good place to find forgotten features.<br />
 <br />
 <br />
 <br />
</p>
<h1><a class="anchor" id="tipsandtricks"></a>
Tips and Tricks</h1>
<p>This section lists a few tips you might consider when implementing the sound part of your application using irrKlang:</p>
<ul>
<li>
If you can choose which audio file format is the primary one for your application, use .OGG files, instead of for example .MP3 files. irrKlang uses a lot less memory and CPU power when playing .OGGs. </li>
<li>
To keep your application simple, each time you play a sound, you can use for example play2D("filename.mp3") and let irrKlang handle the rest. There is no need to implement a preloading/caching/file management system for the audio playback. irrKlang will handle all this by itself and will never load a file twice.  </li>
<li>
irrKlang is crashing in your application? This should not happen, irrKlang is pretty stable, and in most cases, this is a problem in your code: In a lot of cases the reason is simply a wrong call to <a class="el" href="classirrklang_1_1IRefCounted.html#a869fe3adc6e49e8da105e95837a565b1" title="When you receive an object in irrKlang (for example an ISound using play2D() or play3D()), and you no longer need the object, you have to call drop(). ">irrklang::IRefCounted::drop()</a>. Be sure you are doing it correctly. (If you are unsure, tempoarily remove all calls to <a class="el" href="classirrklang_1_1IRefCounted.html#a869fe3adc6e49e8da105e95837a565b1" title="When you receive an object in irrKlang (for example an ISound using play2D() or play3D()), and you no longer need the object, you have to call drop(). ">irrklang::IRefCounted::drop()</a> and see if this helps.) </li>
</ul>
<p><br />
 <br />
 <br />
 <br />
</p>
<h1><a class="anchor" id="concept"></a>
Starting up the Engine</h1>
<p>irrKlang is designed so that it is very easy to achieve everything, its interface should be very simple to use. The <a class="el" href="index.html#quickstartexample">Quick Start Example</a> shows how to play and mp3 file, and there is another example, <a class="el" href="index.html#quickstartexample2">Quick Start Example 2</a>, showing some few more details.<br />
 To start up the sound engine, you simply need to call <a class="el" href="namespaceirrklang.html#ad9829f898bc0665fdd2554a6f5c7ca1c" title="Creates an irrKlang device. The irrKlang device is the root object for using the sound engine...">createIrrKlangDevice()</a>. To shut it down, call IRefCounted::drop():</p>
<div class="fragment"><div class="line"><span class="preprocessor">#include &lt;<a class="code" href="irrKlang_8h.html">irrKlang.h</a>&gt;</span></div>
<div class="line"></div>
<div class="line"><span class="comment">// ...</span></div>
<div class="line"></div>
<div class="line"><span class="comment">// start up the engine</span></div>
<div class="line"><a class="code" href="classirrklang_1_1ISoundEngine.html">irrklang::ISoundEngine</a>* <a class="code" href="SP2__Scene_8cpp.html#ab56cdd798fa279dceae0e730285d5b5e">engine</a> = <a class="code" href="namespaceirrklang.html#ad9829f898bc0665fdd2554a6f5c7ca1c">irrklang::createIrrKlangDevice</a>();</div>
<div class="line">       </div>
<div class="line"><span class="comment">// ...</span></div>
<div class="line"></div>
<div class="line"><span class="comment">// after finished,</span></div>
<div class="line"><span class="comment">// close the engine again, similar as calling &#39;delete&#39;</span></div>
<div class="line">engine-&gt;<a class="code" href="classirrklang_1_1IRefCounted.html#a869fe3adc6e49e8da105e95837a565b1">drop</a>(); </div>
</div><!-- fragment --><p>The <a class="el" href="namespaceirrklang.html#ad9829f898bc0665fdd2554a6f5c7ca1c" title="Creates an irrKlang device. The irrKlang device is the root object for using the sound engine...">createIrrKlangDevice()</a> function also accepts several parameters, so that you can specify which sound driver should be used, if plugins should be used, if irrKlang should run in multithreaded mode, and similar. <br />
 <br />
 <br />
 <br />
</p>
<h1><a class="anchor" id="playingSounds"></a>
Playing Sounds</h1>
<p>Once you have irrKlang running (like in <a class="el" href="index.html#concept">Starting up the Engine</a>), you can start playing sounds:</p>
<div class="fragment"><div class="line">engine-&gt;<a class="code" href="classirrklang_1_1ISoundEngine.html#a25f612fe6479d3b22dc5bab2a2eaa927">play2D</a>(<span class="stringliteral">&quot;someSoundFile.wav&quot;</span>); </div>
</div><!-- fragment --><p>This works with all supported file types. You can replace "someSoundFile.wav" with "someSoundFile.mp3", or "someSoundFile.ogg", for example.<br />
 To play a sound looped, set the second parameter to 'true':</p>
<div class="fragment"><div class="line">engine-&gt;<a class="code" href="classirrklang_1_1ISoundEngine.html#a25f612fe6479d3b22dc5bab2a2eaa927">play2D</a>(<span class="stringliteral">&quot;myMusic.mp3&quot;</span>, <span class="keyword">true</span>); </div>
</div><!-- fragment --><p>To stop this looping sound again, use engine-&gt;<a class="el" href="classirrklang_1_1ISoundEngine.html#a38dbc2f1d49e3127fc4a81a9c1a2f82d">stopAllSounds()</a> to stop all sounds, or <a class="el" href="classirrklang_1_1ISound.html#a108485fe64658441cecd70917782961f" title="Will stop the sound and free its resources. ">irrklang::ISound::stop()</a> if you only want to stop that single sound. <a class="el" href="index.html#changingSounds">Influencing Sounds during Playback</a> shows how to get to that ISound interface. <br />
 <br />
 <br />
 <br />
</p>
<h1><a class="anchor" id="changingSounds"></a>
Influencing Sounds during Playback</h1>
<p>To influence parameters of the sound such as pan, volume or playback speed during runtime, to get the play position or stop playback of single playing sounds, you can use the <a class="el" href="classirrklang_1_1ISound.html" title="Represents a sound which is currently played. ">irrklang::ISound</a> interface. <a class="el" href="classirrklang_1_1ISoundEngine.html#a25f612fe6479d3b22dc5bab2a2eaa927" title="loads a sound source (if not loaded already) from a file and plays it. ">irrklang::ISoundEngine::play2D</a> (but also play3D) returns a pointer to this interface when its third ('startPaused') or fourth ('track') parameter was set to true:</p>
<div class="fragment"><div class="line"><a class="code" href="classirrklang_1_1ISound.html">irrklang::ISound</a>* snd = engine-&gt;<a class="code" href="classirrklang_1_1ISoundEngine.html#a25f612fe6479d3b22dc5bab2a2eaa927">play2D</a>(<span class="stringliteral">&quot;myMusic.mp3&quot;</span>, <span class="keyword">true</span>, <span class="keyword">false</span>, <span class="keyword">true</span>); </div>
<div class="line"></div>
<div class="line"><span class="comment">// ...</span></div>
<div class="line"></div>
<div class="line"><span class="keywordflow">if</span> (snd)</div>
<div class="line">    snd-&gt;<a class="code" href="classirrklang_1_1ISound.html#a4c91357775f1d15e2c276ced09a40599">setVolume</a>(someNewValue);</div>
<div class="line"></div>
<div class="line"><span class="comment">// ...</span></div>
<div class="line"></div>
<div class="line"><span class="keywordflow">if</span> (snd)</div>
<div class="line">{</div>
<div class="line">    snd-&gt;<a class="code" href="classirrklang_1_1IVirtualRefCounted.html#a6602c3d110f23410c5bca8a08b709aa4">drop</a>(); <span class="comment">// don&#39;t forget to release the pointer once it is no longer needed by you</span></div>
<div class="line">    snd = 0;</div>
<div class="line">}</div>
</div><!-- fragment --><p>The <a class="el" href="classirrklang_1_1ISound.html" title="Represents a sound which is currently played. ">irrklang::ISound</a> interface can also be used to test if the sound has been finished, set event receivers, pause and unpause sounds and similar. <br />
 <br />
 <br />
 <br />
</p>
<h1><a class="anchor" id="soundSources"></a>
Using Sound Sources</h1>
<p>To be more flexible playing back sounds, irrKlang uses the concept of sound sources. A sound source can be simply the name of a sound file, such as "sound.wav". It is possible to add "sound.wav" as sound source to irrKlang, and play it using the sound source pointer:</p>
<div class="fragment"><div class="line"><a class="code" href="classirrklang_1_1ISoundSource.html">irrklang::ISoundSource</a>* shootSound = engine-&gt;<a class="code" href="classirrklang_1_1ISoundEngine.html#a4eed0fa6712872e55003b26462e21005">addSoundSourceFromFile</a>(<span class="stringliteral">&quot;shoot.wav&quot;</span>); </div>
<div class="line"></div>
<div class="line">engine-&gt;<a class="code" href="classirrklang_1_1ISoundEngine.html#a25f612fe6479d3b22dc5bab2a2eaa927">play2D</a>(shootSound);</div>
<div class="line"></div>
<div class="line"><span class="comment">// note: you don&#39;t need to drop() the shootSound if you don&#39;t use it anymore</span></div>
</div><!-- fragment --><p>The advantage of using <a class="el" href="classirrklang_1_1ISoundSource.html" title="A sound source describes an input file (.ogg, .mp3, .wav or similar) and its default settings...">irrklang::ISoundSource</a> is that it is possible to set default values for this source, such as volume or distances if it should be used as 3D sound:</p>
<div class="fragment"><div class="line"><a class="code" href="classirrklang_1_1ISoundSource.html">irrklang::ISoundSource</a>* shootSound = engine-&gt;<a class="code" href="classirrklang_1_1ISoundEngine.html#a4eed0fa6712872e55003b26462e21005">addSoundSourceFromFile</a>(<span class="stringliteral">&quot;shoot.wav&quot;</span>); </div>
<div class="line"></div>
<div class="line">shootSound-&gt;<a class="code" href="classirrklang_1_1ISoundSource.html#a52accb16b3a554558f12f99d16f57a7d">setDefaultVolume</a>(0.5f);</div>
<div class="line"></div>
<div class="line"><span class="comment">// shootSound will now be played with half its sound volume by default:</span></div>
<div class="line">engine-&gt;<a class="code" href="classirrklang_1_1ISoundEngine.html#a25f612fe6479d3b22dc5bab2a2eaa927">play2D</a>(shootSound);</div>
</div><!-- fragment --><p>It is also possible to have multiple settings for the same sound file:</p>
<div class="fragment"><div class="line"><a class="code" href="classirrklang_1_1ISoundSource.html">irrklang::ISoundSource</a>* shootSound = engine-&gt;<a class="code" href="classirrklang_1_1ISoundEngine.html#a4eed0fa6712872e55003b26462e21005">addSoundSourceFromFile</a>(<span class="stringliteral">&quot;shoot.wav&quot;</span>); </div>
<div class="line"><a class="code" href="classirrklang_1_1ISoundSource.html">irrklang::ISoundSource</a>* shootSound2 = engine-&gt;<a class="code" href="classirrklang_1_1ISoundEngine.html#a1a3542b9d4e1c0a77d7cc9591c3c9321">addSoundSourceAlias</a>(shootSound, <span class="stringliteral">&quot;silentShoot&quot;</span>); </div>
<div class="line"></div>
<div class="line">shootSound2-&gt;<a class="code" href="classirrklang_1_1ISoundSource.html#a52accb16b3a554558f12f99d16f57a7d">setDefaultVolume</a>(0.1f);</div>
<div class="line"></div>
<div class="line"><span class="comment">// shootSound will now be played with 100% of its sound volume by default,</span></div>
<div class="line"><span class="comment">// shootSound2 will now be played 10% of its sound volume by default. It is </span></div>
<div class="line"><span class="comment">//  also possible to play it using engine-&gt;play(&quot;silentShoot&quot;), now.</span></div>
</div><!-- fragment --><p>Using addSoundSourceFromMemory(), it is also possible to play sounds back directly from memory, without files. Of course, it is not necessary to use sound sources. Using <a class="el" href="classirrklang_1_1ISound.html" title="Represents a sound which is currently played. ">irrklang::ISound</a>, it is possible to change the settings of all sounds, too. But using sound sources, it is not necessary to do this every time a sound is played. <br />
 <br />
 <br />
 <br />
</p>
<h1><a class="anchor" id="sound3d"></a>
3D Sound</h1>
<p>There is nothing difficult in playing sounds in 3D using irrKlang: Instead of using <a class="el" href="classirrklang_1_1ISoundEngine.html#a25f612fe6479d3b22dc5bab2a2eaa927" title="loads a sound source (if not loaded already) from a file and plays it. ">irrklang::ISoundEngine::play2D()</a>, just use <a class="el" href="classirrklang_1_1ISoundEngine.html#adb09ecc8f61120ce14d26545ed43d8ec" title="Loads a sound source (if not loaded already) from a file and plays it as 3D sound. ">irrklang::ISoundEngine::play3D()</a>, which takes a 3D position as additional parameter:</p>
<div class="fragment"><div class="line"><a class="code" href="classirrklang_1_1vec3d.html">irrklang::vec3df</a> position(23,70,90);</div>
<div class="line">engine-&gt;<a class="code" href="classirrklang_1_1ISoundEngine.html#adb09ecc8f61120ce14d26545ed43d8ec">play3D</a>(<span class="stringliteral">&quot;yourSound.wav&quot;</span>, position);</div>
</div><!-- fragment --><p>But to make it sound realistic, you need to set a minimal sound distance: If your sound is caused by a bee, it will usually have a smaller sound radius than for example a jet engine. You can set default values using sound sources (see <a class="el" href="index.html#soundSources">Using Sound Sources</a>) or set these values after you have started the sound paused:</p>
<div class="fragment"><div class="line"><a class="code" href="classirrklang_1_1vec3d.html">irrklang::vec3df</a> position(23,70,90);</div>
<div class="line"></div>
<div class="line"><span class="comment">// start the sound paused:</span></div>
<div class="line"><a class="code" href="classirrklang_1_1ISound.html">irrklang::ISound</a>* snd = engine-&gt;<a class="code" href="classirrklang_1_1ISoundEngine.html#adb09ecc8f61120ce14d26545ed43d8ec">play3D</a>(<span class="stringliteral">&quot;yourSound.wav&quot;</span>, position, <span class="keyword">false</span>, <span class="keyword">true</span>);</div>
<div class="line"></div>
<div class="line"><span class="keywordflow">if</span> (snd)</div>
<div class="line">{</div>
<div class="line">   snd-&gt;<a class="code" href="classirrklang_1_1ISound.html#a318bcb0ec6c44078cdee3c9b080b6f41">setMinDistance</a>(30.0f); <span class="comment">// a loud sound</span></div>
<div class="line">   snd-&gt;<a class="code" href="classirrklang_1_1ISound.html#a399fef60d1c48e2dffdf76d83173a15a">setIsPaused</a>(<span class="keyword">false</span>); <span class="comment">// unpause the sound</span></div>
<div class="line">}</div>
</div><!-- fragment --><p>There is also the possibility to change the maxDistance, but it is only necessary to change this in very rare cicumstances. If the sound moves, it is also a good idea to update its position from time to time:</p>
<div class="fragment"><div class="line"><span class="keywordflow">if</span> (snd)</div>
<div class="line">   snd-&gt;<a class="code" href="classirrklang_1_1ISound.html#a994b98c059e8aee6adb82bb12d866338">setPosition</a>(newPosition);</div>
</div><!-- fragment --><p>And don't forget to drop() the sound after you don't need it anymore. If you do, it's nothing severe because irrKlang will still clean up the sounds resources after it has finished, but you still would waste some few bytes of memory:</p>
<div class="fragment"><div class="line"><span class="keywordflow">if</span> (snd)</div>
<div class="line">{</div>
<div class="line">   snd-&gt;<a class="code" href="classirrklang_1_1IVirtualRefCounted.html#a6602c3d110f23410c5bca8a08b709aa4">drop</a>();</div>
<div class="line">   snd = 0;</div>
<div class="line">}</div>
</div><!-- fragment --><p>To update the position of yourself, the listener of the 3D sounds, use this from time to time:</p>
<div class="fragment"><div class="line"><a class="code" href="classirrklang_1_1vec3d.html">irrklang::vec3df</a> position(0,0,0);        <span class="comment">// position of the listener</span></div>
<div class="line"><a class="code" href="classirrklang_1_1vec3d.html">irrklang::vec3df</a> lookDirection(10,0,10); <span class="comment">// the direction the listener looks into</span></div>
<div class="line"><a class="code" href="classirrklang_1_1vec3d.html">irrklang::vec3df</a> velPerSecond(0,0,0);    <span class="comment">// only relevant for doppler effects</span></div>
<div class="line"><a class="code" href="classirrklang_1_1vec3d.html">irrklang::vec3df</a> upVector(0,1,0);        <span class="comment">// where &#39;up&#39; is in your 3D scene</span></div>
<div class="line"></div>
<div class="line">engine-&gt;<a class="code" href="classirrklang_1_1ISoundEngine.html#af3e6223435969159ef3b22d0c83d2b84">setListenerPosition</a>(position, lookDirection, velPerSecond, upVector);</div>
</div><!-- fragment --><p><br />
 <br />
 <br />
 <br />
</p>
<h1><a class="anchor" id="removingSounds"></a>
Removing Sounds</h1>
<p>irrKlang manages the memory usage of sounds by itself, so usually, you don't have to care about memory management. But if you know you need to reduce the amount of used memory at a certain point in your program, you can do this:</p>
<div class="fragment"><div class="line">engine-&gt;<a class="code" href="classirrklang_1_1ISoundEngine.html#a1d37141994f73595fc96d5893844925c">removeAllSoundSources</a>(); </div>
</div><!-- fragment --><p>This will remove all sounds and also cause all sounds to be stopped. To remove single sounds from the engine, use:</p>
<div class="fragment"><div class="line">engine-&gt;<a class="code" href="classirrklang_1_1ISoundEngine.html#a82e712f7816f933145690983dbd8be9e">removeSoundSource</a>(pointerToSomeSoundSource); </div>
<div class="line"><span class="comment">// or:</span></div>
<div class="line">engine-&gt;<a class="code" href="classirrklang_1_1ISoundEngine.html#a82e712f7816f933145690983dbd8be9e">removeSoundSource</a>(<span class="stringliteral">&quot;nameOfASoundFile.wav&quot;</span>); </div>
</div><!-- fragment --><p>Note: Only removing buffered sounds will reduce the amount of memory used by irrKlang, streamed sounds don't occupy a lot of memory when they are not played. <br />
 <br />
 <br />
 <br />
</p>
<h1><a class="anchor" id="events"></a>
Using Sound Events</h1>
<p>In order to wait for a sound to be finished, it is simply possible to poll <a class="el" href="classirrklang_1_1ISound.html#a9d9e758f8500b194580de339c7f96768" title="returns if the sound has finished playing. ">irrklang::ISound::isFinished()</a>. Another way would be to constantly use <a class="el" href="classirrklang_1_1ISoundEngine.html#a1084577f9f43cb12e86cea43c323b12c" title="Returns if a sound with the specified name is currently playing. ">irrklang::ISoundEngine::isCurrentlyPlaying</a> to test wether a sound with that name or source is currently playing. But of course, an event based approach is a lot nicer. That's why irrKlang supports sound events.<br />
 The key to sound events is the method <a class="el" href="classirrklang_1_1ISound.html#a50dc71426d0abec7af56fa68a5bb87b5">setSoundStopEventReceiver </a> of the <a class="el" href="classirrklang_1_1ISound.html" title="Represents a sound which is currently played. ">irrklang::ISound</a> interface (See <a class="el" href="index.html#changingSounds">Influencing Sounds during Playback</a> on how to get the ISound interface):</p>
<div class="fragment"><div class="line"><a class="code" href="classirrklang_1_1ISound.html">irrklang::ISound</a>* snd = engine-&gt;<a class="code" href="classirrklang_1_1ISoundEngine.html#a25f612fe6479d3b22dc5bab2a2eaa927">play2D</a>(<span class="stringliteral">&quot;speech.mp3&quot;</span>, <span class="keyword">false</span>, <span class="keyword">false</span>, <span class="keyword">true</span>); </div>
<div class="line"><span class="keywordflow">if</span> (snd)</div>
<div class="line">   snd-&gt;<a class="code" href="classirrklang_1_1ISound.html#a50dc71426d0abec7af56fa68a5bb87b5">setSoundStopEventReceiver</a>(yourEventReceiver, 0);</div>
</div><!-- fragment --><p>The optional second parameter of setSoundStopEventReceiver is a user pointer, set it to whatever you like. 'yourEventReceiver' must be an implementation of the <a class="el" href="classirrklang_1_1ISoundStopEventReceiver.html" title="Interface to be implemented by the user, which recieves sound stop events. ">irrklang::ISoundStopEventReceiver</a> interface.<br />
 A whole implementation could look like this:</p>
<div class="fragment"><div class="line"><span class="keyword">class </span>MySoundEndReceiver : <span class="keyword">public</span> <a class="code" href="classirrklang_1_1ISoundStopEventReceiver.html">irrklang::ISoundStopEventReceiver</a></div>
<div class="line">{</div>
<div class="line">  <span class="keyword">public</span>:</div>
<div class="line">    <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classirrklang_1_1ISoundStopEventReceiver.html#a8e975104683b71cd45436ae5f8bfaf9f">OnSoundStopped</a> (<a class="code" href="classirrklang_1_1ISound.html">irrklang::ISound</a>* sound, <a class="code" href="namespaceirrklang.html#a17ebb006afe78ab6502a1e3d18083522">irrklang::E_STOP_EVENT_CAUSE</a> reason, <span class="keywordtype">void</span>* userData)</div>
<div class="line">    {</div>
<div class="line">       <span class="comment">// called when the sound has ended playing</span></div>
<div class="line">       printf(<span class="stringliteral">&quot;sound has ended&quot;</span>);</div>
<div class="line">    }</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="comment">// ...</span></div>
<div class="line"></div>
<div class="line">MySoundEndReceiver* myReceiver = <span class="keyword">new</span> MySoundEndReceiver();</div>
<div class="line"><a class="code" href="classirrklang_1_1ISound.html">irrklang::ISound</a>* snd = engine-&gt;<a class="code" href="classirrklang_1_1ISoundEngine.html#a25f612fe6479d3b22dc5bab2a2eaa927">play2D</a>(<span class="stringliteral">&quot;speech.mp3&quot;</span>, <span class="keyword">false</span>, <span class="keyword">false</span>, <span class="keyword">true</span>); </div>
<div class="line"><span class="keywordflow">if</span> (snd)</div>
<div class="line">   snd-&gt;<a class="code" href="classirrklang_1_1ISound.html#a50dc71426d0abec7af56fa68a5bb87b5">setSoundStopEventReceiver</a>(myReceiver);</div>
<div class="line"></div>
<div class="line">myReceiver-&gt;drop(); <span class="comment">// similar to delete</span></div>
</div><!-- fragment --><p>The <a class="el" href="classirrklang_1_1ISoundStopEventReceiver.html#a8e975104683b71cd45436ae5f8bfaf9f" title="Called when a sound has stopped playing. ">irrklang::ISoundStopEventReceiver::OnSoundStopped()</a> method is guaranteed to be called when a sound or sound stream has stopped, either because the sound reached its playback end, its sound source was removed, ISoundEngine::stopAllSounds() has been called or the whole engine was deleted. <br />
 <br />
 <br />
 <br />
</p>
<h1><a class="anchor" id="memoryPlayback"></a>
Memory Playback</h1>
<p>Using irrKlang, it is easily possible to play sounds directly from memory instead out of files. There is an example project showing this: In the SDK, in /examples/03.MemoryPlayback. But in short, it simply works by adding the memory as sound source (See <a class="el" href="index.html#soundSources">Using Sound Sources</a> for details about sound sources):</p>
<div class="fragment"><div class="line">engine-&gt;<a class="code" href="classirrklang_1_1ISoundEngine.html#a686f6a4c8a7e90ec6859436f6ae39707">addSoundSourceFromMemory</a>(pointerToMemory, memorySize, <span class="stringliteral">&quot;nameforthesound.wav&quot;</span>);</div>
<div class="line"></div>
<div class="line"><span class="comment">// play sound now</span></div>
<div class="line">engine-&gt;<a class="code" href="classirrklang_1_1ISoundEngine.html#a25f612fe6479d3b22dc5bab2a2eaa927">play2D</a>(<span class="stringliteral">&quot;nameforthesound.wav&quot;</span>);</div>
</div><!-- fragment --><p>Or using a sound source pointer:</p>
<div class="fragment"><div class="line"><a class="code" href="classirrklang_1_1ISoundSource.html">irrklang::ISoundSource</a>* snd = </div>
<div class="line">  engine-&gt;<a class="code" href="classirrklang_1_1ISoundEngine.html#a686f6a4c8a7e90ec6859436f6ae39707">addSoundSourceFromMemory</a>(pointerToMemory, memorySize, <span class="stringliteral">&quot;nameforthesound.wav&quot;</span>);</div>
<div class="line"></div>
<div class="line"><span class="comment">// play sound now</span></div>
<div class="line">engine-&gt;<a class="code" href="classirrklang_1_1ISoundEngine.html#a25f612fe6479d3b22dc5bab2a2eaa927">play2D</a>(snd);</div>
</div><!-- fragment --><p>Note: It is also possible to overwrite the file access directly, don't use this Memory Playback feature for this. See <a class="el" href="index.html#fileOverriding">Overriding File Access</a> for details. <br />
 <br />
 <br />
 <br />
</p>
<h1><a class="anchor" id="effects"></a>
Sound Effects</h1>
<p>irrKlang supports the effects Chorus, Compressor, Distortion, Echo, Flanger Gargle, 3DL2Reverb, ParamEq and WavesReverb, when using the sound driver <a class="el" href="namespaceirrklang.html#a77f31ac02a7d33fe94807be709f72afea6fcd5ec6152066313ef04d97ea5582ee" title="DirectSound8 sound output driver, windows only. ">irrklang::ESOD_DIRECT_SOUND_8</a>, which selected by default when using Windows.<br />
</p>
<p>Using the <a class="el" href="classirrklang_1_1ISound.html" title="Represents a sound which is currently played. ">irrklang::ISound</a> interface, you can optain the <a class="el" href="classirrklang_1_1ISoundEffectControl.html" title="Interface to control the active sound effects (echo, reverb,...) of an ISound object, a playing sound. ">irrklang::ISoundEffectControl</a> interface if the sound device supports sound effects and the last parameter ('enableSoundEffects') was set to true when calling play2D():</p>
<div class="fragment"><div class="line"><a class="code" href="classirrklang_1_1ISound.html">irrklang::ISound</a>* snd = engine-&gt;<a class="code" href="classirrklang_1_1ISoundEngine.html#a25f612fe6479d3b22dc5bab2a2eaa927">play2D</a>(<span class="stringliteral">&quot;sound.wav&quot;</span>, <span class="keyword">true</span>, <span class="keyword">false</span>, <span class="keyword">true</span>, <a class="code" href="namespaceirrklang.html#a6eab873ba387c6a4e05839e6a434d06ea9ccdf79afdb2961edf97edf4575d1717">ESM_AUTO_DETECT</a>, <span class="keyword">true</span>);</div>
<div class="line"></div>
<div class="line"><span class="keywordflow">if</span> (snd)</div>
<div class="line">{</div>
<div class="line">   <a class="code" href="classirrklang_1_1ISoundEffectControl.html">irrklang::ISoundEffectControl</a>* fx = snd-&gt;<a class="code" href="classirrklang_1_1ISound.html#a988bb2ccda459ad6aa3264e9a58aa99a">getSoundEffectControl</a>();</div>
<div class="line">   <span class="keywordflow">if</span> (fx)</div>
<div class="line">   {</div>
<div class="line">       <span class="comment">// enable the echo sound effect for this sound</span></div>
<div class="line">       fx-&gt;<a class="code" href="classirrklang_1_1ISoundEffectControl.html#a5f2e867d41eb16b6e5418c1c2c92e501">enableEchoSoundEffect</a>();</div>
<div class="line">   }</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line">snd-&gt;<a class="code" href="classirrklang_1_1IVirtualRefCounted.html#a6602c3d110f23410c5bca8a08b709aa4">drop</a>();</div>
</div><!-- fragment --><p>This enabled the echo sound effect for this sound. The method also supports a lot of parameters, and can be called multiple times to change those parameters over time if wished. There are a lot of other sound effects, see <a class="el" href="classirrklang_1_1ISoundEffectControl.html" title="Interface to control the active sound effects (echo, reverb,...) of an ISound object, a playing sound. ">irrklang::ISoundEffectControl</a> for details. <br />
 <br />
 <br />
 <br />
</p>
<h1><a class="anchor" id="fileOverriding"></a>
Overriding File Access</h1>
<p>It is possible to let irrKlang use your own file access functions. This is useful if you want to read sounds from other sources than just files, for example from custom internet streams or an own encypted archive format. There is an example in the SDK in examples/04.OverrideFileAccess which shows this as well.<br />
</p>
<p>The only thing to do for this is to implement your own <a class="el" href="classirrklang_1_1IFileFactory.html" title="Interface to overwrite file access in irrKlang. ">irrklang::IFileFactory</a>, and set it in irrKlang using <a class="el" href="classirrklang_1_1ISoundEngine.html#ad7c48f9d7ccc6f60adb1b3f024f9b189" title="Adds a file factory to the sound engine, making it possible to override file access of the sound engi...">irrklang::ISoundEngine::addFileFactory()</a>:</p>
<div class="fragment"><div class="line"><span class="comment">// a class implementing the IFileFactory interface to override irrklang file access</span></div>
<div class="line"><span class="keyword">class </span>CMyFileFactory : <span class="keyword">public</span> <a class="code" href="classirrklang_1_1IFileFactory.html">irrklang::IFileFactory</a></div>
<div class="line">{</div>
<div class="line">  <span class="keyword">public</span>:</div>
<div class="line"></div>
<div class="line">  <span class="comment">// Opens a file for read access. Simply return 0 if file not found.</span></div>
<div class="line">  <span class="keyword">virtual</span> <a class="code" href="classirrklang_1_1IFileReader.html">irrklang::IFileReader</a>* <a class="code" href="classirrklang_1_1IFileFactory.html#abe09d8c9dadf1cfd45a63c733a2f910c">createFileReader</a>(<span class="keyword">const</span> <a class="code" href="namespaceirrklang.html#af179ad966eb79d01f6d1cf8927087449">ik_c8</a>* filename)</div>
<div class="line">  {</div>
<div class="line">    <span class="comment">// return your own irrklang::IFileReader implementation here, for example like that:</span></div>
<div class="line">    <span class="keywordflow">return</span> <span class="keyword">new</span> CMyReadFile(filename);</div>
<div class="line">  }</div>
<div class="line">};</div>
<div class="line"></div>
<div class="line"><span class="comment">// ...</span></div>
<div class="line"></div>
<div class="line">CMyFileFactory* myFactory = <span class="keyword">new</span> CMyFileFactory();</div>
<div class="line">engine-&gt;<a class="code" href="classirrklang_1_1ISoundEngine.html#ad7c48f9d7ccc6f60adb1b3f024f9b189">addFileFactory</a>(myFactory);</div>
<div class="line">myFactory-&gt;drop();</div>
</div><!-- fragment --><p>For a full example implementation, just take a look into the SDK in examples/04.OverrideFileAccess. <br />
 <br />
 <br />
 <br />
</p>
<h1><a class="anchor" id="audioDecoders"></a>
Adding Audio Decoders</h1>
<p>To add support for new file formats, it is possible to add new audio decoders to irrKlang. The only thing to do for this is to implement your own <a class="el" href="classirrklang_1_1IAudioStreamLoader.html" title="Class which is able to create an audio file stream from a file. ">irrklang::IAudioStreamLoader</a>, and <a class="el" href="classirrklang_1_1IAudioStream.html" title="Reads and decodes audio data into an usable audio stream for the ISoundEngine. ">irrklang::IAudioStream</a>, and set it in irrKlang using <a class="el" href="classirrklang_1_1ISoundEngine.html#a6cb64f878a5355454c7197276127a7c9" title="Registers a new audio stream loader in the sound engine. ">irrklang::ISoundEngine::registerAudioStreamLoader()</a>:</p>
<div class="fragment"><div class="line"><span class="keyword">class </span>NewAudioStreamLoader : <span class="keyword">public</span> <a class="code" href="classirrklang_1_1IAudioStreamLoader.html">irrklang::IAudioStreamLoader</a></div>
<div class="line">{</div>
<div class="line">  <span class="comment">// ... returns NewAudioDecoder and the used file name suffices.</span></div>
<div class="line">};</div>
<div class="line"></div>
<div class="line"><span class="keyword">class </span>NewAudioDecoder : <span class="keyword">public</span> <a class="code" href="classirrklang_1_1IAudioStream.html">irrklang::IAudioStream</a></div>
<div class="line">{</div>
<div class="line">  <span class="keyword">public</span>:</div>
<div class="line">    <span class="comment">// ... decodes the new file format</span></div>
<div class="line">};</div>
<div class="line"></div>
<div class="line"><span class="comment">// ...</span></div>
<div class="line"></div>
<div class="line">NewAudioDecoder* loader = <span class="keyword">new</span> NewAudioDecoder();</div>
<div class="line">engine-&gt;<a class="code" href="classirrklang_1_1ISoundEngine.html#a6cb64f878a5355454c7197276127a7c9">registerAudioStreamLoader</a>(loader);</div>
<div class="line">loader-&gt;drop();</div>
</div><!-- fragment --><p>There is an example audio decoder and loader with full source in plugins/ikpMP3, which adds MP3 audio decoding capabilities to irrKlang. <br />
 <br />
 <br />
 <br />
</p>
<h1><a class="anchor" id="plugins"></a>
Creating irrKlang Plugins</h1>
<p>irrKlang plugins are ikp*.dll (Windows), ikp*.so (Unix) or ikp*.dylib (MacOS) files which are loaded by irrKlang at startup when the <a class="el" href="namespaceirrklang.html#ac9155ff55b347df6e905462100762d7fafda608a17564b562a9a43b7934a387e8" title="Automaticly loads external plugins when starting up. ">irrklang::ESEO_LOAD_PLUGINS</a> was set (which is default) or <a class="el" href="classirrklang_1_1ISoundEngine.html#abcb159bed86265a22fe3435ce2541ea6" title="Loads irrKlang plugins from a custom path. ">irrklang::ISoundEngine::loadPlugins()</a> was called. <br />
</p>
<p>The plugin only needs to contain the following function which will be called by irrKlang:</p>
<div class="fragment"><div class="line"><span class="preprocessor">#ifdef WIN32</span></div>
<div class="line"><span class="comment">// Windows version</span></div>
<div class="line">__declspec(dllexport) void __stdcall <a class="code" href="ikpMP3_8cpp.html#ac6ed931d442f71e992a96cdc08e58142">irrKlangPluginInit</a>(ISoundEngine* engine, const <span class="keywordtype">char</span>* version)</div>
<div class="line"><span class="preprocessor">#else</span></div>
<div class="line"><span class="comment">// Linux and Mac OS version</span></div>
<div class="line"><span class="keywordtype">void</span> <a class="code" href="ikpMP3_8cpp.html#ac6ed931d442f71e992a96cdc08e58142">irrKlangPluginInit</a>(ISoundEngine* engine, <span class="keyword">const</span> <span class="keywordtype">char</span>* version)</div>
<div class="line"><span class="preprocessor">#endif</span></div>
<div class="line">{</div>
<div class="line">  <span class="comment">// your implementation here</span></div>
<div class="line">}</div>
</div><!-- fragment --><p>In there, it is for example possible to extend irrKlang with new audio decoders, see <a class="el" href="index.html#audioDecoders">Adding Audio Decoders</a> for details. <br />
</p>
<p>There is an example plugin with full source in plugins/ikpMP3, which adds MP3 audio decoding capabilities to irrKlang. <br />
 <br />
 <br />
 <br />
</p>
<h1><a class="anchor" id="staticLib"></a>
Using irrKlang as static Lib</h1>
<p>If you don't want to use the irrKlang.DLL file and link irrKlang statically, you can do this by simply linking to the irrKlang.lib in the bin/win32-visualstudio_lib folder. This folder will only available in the pro versions of irrKlang, which you get when purchasing an irrKlang license.</p>
<p>To use irrKlang in this way, just define IRRKLANG_STATIC before including <a class="el" href="irrKlang_8h.html" title="Main header file of the irrKlang sound library, the only file needed to include. ">irrklang.h</a>, like this:</p>
<div class="fragment"><div class="line"><span class="preprocessor">#define IRRKLANG_STATIC</span></div>
<div class="line"><span class="preprocessor">#include &lt;irrKlang.h&gt;</span></div>
</div><!-- fragment --><p>Of course, IRRKLANG_STATIC can also simply be defined in the project/compiler settings instead of in the source file. <br />
 <br />
 <br />
 <br />
</p>
<h1><a class="anchor" id="enumeratingDevices"></a>
Enumerating sound devices</h1>
<p>irrKlang uses the default sound device when playing sound when started without parameters. But if you want irrKlang to playback sound on one specific sound device, you may want to enumerate the available sound devices on your system and select one of them. Use <a class="el" href="namespaceirrklang.html#a38d9a69bf54fd60e76e80e199e44faee" title="Creates a list of available sound devices for the driver type. ">irrklang::createSoundDeviceList()</a> for this. This example code shows how to print a list of all available sound devices on the current system and lets the user choose one of them:</p>
<div class="fragment"><div class="line"><span class="keywordtype">int</span> <a class="code" href="main_8cpp.html#a840291bc02cba5474a4cb46a9b9566fe">main</a>(<span class="keywordtype">int</span> argc, <span class="keyword">const</span> <span class="keywordtype">char</span>** argv)</div>
<div class="line">{</div>
<div class="line">       <span class="comment">// enumerate devices</span></div>
<div class="line"></div>
<div class="line">       <a class="code" href="classirrklang_1_1ISoundDeviceList.html">irrklang::ISoundDeviceList</a>* deviceList = <a class="code" href="namespaceirrklang.html#a38d9a69bf54fd60e76e80e199e44faee">createSoundDeviceList</a>();</div>
<div class="line"></div>
<div class="line">       <span class="comment">// ask user for a sound device</span></div>
<div class="line"></div>
<div class="line">       printf(<span class="stringliteral">&quot;Devices available:\n\n&quot;</span>);</div>
<div class="line"></div>
<div class="line">       <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;deviceList-&gt;<a class="code" href="classirrklang_1_1ISoundDeviceList.html#a546d93bf5e70b5b168c430329194f2e4">getDeviceCount</a>(); ++i)</div>
<div class="line">               printf(<span class="stringliteral">&quot;%d: %s\n&quot;</span>, i, deviceList-&gt;<a class="code" href="classirrklang_1_1ISoundDeviceList.html#a79160c5136dbdcd81999f3d95d603498">getDeviceDescription</a>(i));</div>
<div class="line"></div>
<div class="line">       printf(<span class="stringliteral">&quot;\nselect a device using the number (or press any key to use default):\n\n&quot;</span>);</div>
<div class="line">       <span class="keywordtype">int</span> deviceNumber = getch() - <span class="charliteral">&#39;0&#39;</span>;</div>
<div class="line"></div>
<div class="line">       <span class="comment">// create device with the selected driver</span></div>
<div class="line"></div>
<div class="line">       <span class="keyword">const</span> <span class="keywordtype">char</span>* deviceID = deviceList-&gt;<a class="code" href="classirrklang_1_1ISoundDeviceList.html#a77509686d507ea5939a50d31ca8fdf93">getDeviceID</a>(deviceNumber);</div>
<div class="line">               </div>
<div class="line">       ISoundEngine* engine = <a class="code" href="namespaceirrklang.html#ad9829f898bc0665fdd2554a6f5c7ca1c">createIrrKlangDevice</a>(<a class="code" href="namespaceirrklang.html#a77f31ac02a7d33fe94807be709f72afea8cc9863f3b410698313b8637721e51ec">irrklang::ESOD_AUTO_DETECT</a>, </div>
<div class="line">                                                   <a class="code" href="namespaceirrklang.html#ac9155ff55b347df6e905462100762d7facca58ad3ee7e3c2e874bc4015f36f2a9">irrklang::ESEO_DEFAULT_OPTIONS</a>,</div>
<div class="line">                                                   deviceID);</div>
<div class="line"></div>
<div class="line">       deviceList-&gt;<a class="code" href="classirrklang_1_1IRefCounted.html#a869fe3adc6e49e8da105e95837a565b1">drop</a>(); <span class="comment">// delete device list</span></div>
<div class="line"></div>
<div class="line"> <span class="comment">// ... use engine now</span></div>
<div class="line">} </div>
</div><!-- fragment --><p>In this way, it is also possible to play back sound using two devices at the same time: Simply create two irrKlang devices with each a different deviceID.<br />
 Note: <a class="el" href="namespaceirrklang.html#a38d9a69bf54fd60e76e80e199e44faee" title="Creates a list of available sound devices for the driver type. ">createSoundDeviceList()</a> takes a driver type parameter (such as irrklang::ESOD_DIRECT_SOUND8), which you have to set to the same value as the first parameter you want to use with <a class="el" href="namespaceirrklang.html#ad9829f898bc0665fdd2554a6f5c7ca1c" title="Creates an irrKlang device. The irrKlang device is the root object for using the sound engine...">createIrrKlangDevice()</a>, if it is other than <a class="el" href="namespaceirrklang.html#a77f31ac02a7d33fe94807be709f72afea8cc9863f3b410698313b8637721e51ec" title="Autodetects the best sound driver for the system. ">irrklang::ESOD_AUTO_DETECT</a>. <br />
 <br />
 <br />
 <br />
</p>
<h1><a class="anchor" id="recordingAudio"></a>
Recording Audio</h1>
<p>irrKlang is able to record audio from sound capturing devices such as microphones (currently only supported in windows). Use the <a class="el" href="classirrklang_1_1IAudioRecorder.html" title="Interface to an audio recorder. Create it using the createIrrKlangAudioRecorder() function...">irrklang::IAudioRecorder</a> interface to do this. The following example shows how to record some audio and play it back again using the engine:</p>
<div class="fragment"><div class="line"><span class="keywordtype">int</span> <a class="code" href="main_8cpp.html#a840291bc02cba5474a4cb46a9b9566fe">main</a>(<span class="keywordtype">int</span> argc, <span class="keyword">const</span> <span class="keywordtype">char</span>** argv)</div>
<div class="line">{</div>
<div class="line">       <a class="code" href="classirrklang_1_1ISoundEngine.html">irrklang::ISoundEngine</a>* engine = <a class="code" href="namespaceirrklang.html#ad9829f898bc0665fdd2554a6f5c7ca1c">irrklang::createIrrKlangDevice</a>();</div>
<div class="line">       <a class="code" href="classirrklang_1_1IAudioRecorder.html">irrklang::IAudioRecorder</a>* recorder = <a class="code" href="namespaceirrklang.html#aaa4535359bd66857aaadb746cf7d8cec">irrklang::createIrrKlangAudioRecorder</a>(engine);</div>
<div class="line"></div>
<div class="line">       <span class="keywordflow">if</span> (!engine || !recorder)</div>
<div class="line">       {</div>
<div class="line">               printf(<span class="stringliteral">&quot;Could not create audio engine or audio recoder\n&quot;</span>);</div>
<div class="line">               <span class="keywordflow">return</span> 1;</div>
<div class="line">       }</div>
<div class="line"></div>
<div class="line">       printf(<span class="stringliteral">&quot;\nPress any key to start recording audio...\n&quot;</span>);</div>
<div class="line">       getch();</div>
<div class="line"></div>
<div class="line">       <span class="comment">// record some audio</span></div>
<div class="line"></div>
<div class="line">       recorder-&gt;<a class="code" href="classirrklang_1_1IAudioRecorder.html#ad02c63bf445c6f916e43271c428a05f4">startRecordingBufferedAudio</a>();</div>
<div class="line"></div>
<div class="line">       printf(<span class="stringliteral">&quot;\nRECORDING. Press any key to stop...\n&quot;</span>);</div>
<div class="line">       getch();</div>
<div class="line"></div>
<div class="line">       recorder-&gt;<a class="code" href="classirrklang_1_1IAudioRecorder.html#aa00ecf279dfad147e313acac7a04024b">stopRecordingAudio</a>();</div>
<div class="line"></div>
<div class="line">       printf(<span class="stringliteral">&quot;\nRecording done, recorded %dms of audio.\n&quot;</span>, </div>
<div class="line">               recorder-&gt;<a class="code" href="classirrklang_1_1IAudioRecorder.html#ac6f664694d15960dff90d9288850c472">getAudioFormat</a>().<a class="code" href="structirrklang_1_1SAudioStreamFormat.html#ab4f3d1b9df4e1adf53b128c0f14af313">FrameCount</a> * 1000 / recorder-&gt;<a class="code" href="classirrklang_1_1IAudioRecorder.html#ac6f664694d15960dff90d9288850c472">getAudioFormat</a>().<a class="code" href="structirrklang_1_1SAudioStreamFormat.html#adffd0aaf1d5e09b2832f6ad9b2589756">SampleRate</a> );</div>
<div class="line">       printf(<span class="stringliteral">&quot;Press any key to play back recorded audio...\n&quot;</span>);</div>
<div class="line">       getch();</div>
<div class="line"></div>
<div class="line">       <span class="comment">// play the recorded audio</span></div>
<div class="line">       recorder-&gt;<a class="code" href="classirrklang_1_1IAudioRecorder.html#ab70d79f62eadea7bd54e3730105b14d6">addSoundSourceFromRecordedAudio</a>(<span class="stringliteral">&quot;myRecordedVoice&quot;</span>);</div>
<div class="line">       engine-&gt;<a class="code" href="classirrklang_1_1ISoundEngine.html#a25f612fe6479d3b22dc5bab2a2eaa927">play2D</a>(<span class="stringliteral">&quot;myRecordedVoice&quot;</span>, <span class="keyword">true</span>);</div>
<div class="line"></div>
<div class="line">       <span class="comment">// wait until user presses a key</span></div>
<div class="line">       printf(<span class="stringliteral">&quot;\nPress any key to quit...&quot;</span>);</div>
<div class="line">       getch();</div>
<div class="line"></div>
<div class="line">       recorder-&gt;<a class="code" href="classirrklang_1_1IRefCounted.html#a869fe3adc6e49e8da105e95837a565b1">drop</a>();</div>
<div class="line">       engine-&gt;<a class="code" href="classirrklang_1_1IRefCounted.html#a869fe3adc6e49e8da105e95837a565b1">drop</a>(); <span class="comment">// delete engine</span></div>
<div class="line"></div>
<div class="line">       <span class="keywordflow">return</span> 0;</div>
<div class="line">} </div>
</div><!-- fragment --><p>In order to select a specific audio capturing device for recording, it is necessary to enumerate the available devices. Simply replace the first to lines of code of the example above with code like this to list all devices and select one:</p>
<div class="fragment"><div class="line"><span class="comment">// enumerate recording devices and ask user to select one</span></div>
<div class="line"></div>
<div class="line"><a class="code" href="classirrklang_1_1ISoundDeviceList.html">irrklang::ISoundDeviceList</a>* deviceList = <a class="code" href="namespaceirrklang.html#a0e8013b9e8f11231e69ce1da9457a339">irrklang::createAudioRecorderDeviceList</a>();</div>
<div class="line"></div>
<div class="line">printf(<span class="stringliteral">&quot;Devices available:\n\n&quot;</span>);</div>
<div class="line"></div>
<div class="line"><span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;deviceList-&gt;<a class="code" href="classirrklang_1_1ISoundDeviceList.html#a546d93bf5e70b5b168c430329194f2e4">getDeviceCount</a>(); ++i)</div>
<div class="line">         printf(<span class="stringliteral">&quot;%d: %s\n&quot;</span>, i, deviceList-&gt;<a class="code" href="classirrklang_1_1ISoundDeviceList.html#a79160c5136dbdcd81999f3d95d603498">getDeviceDescription</a>(i));</div>
<div class="line"></div>
<div class="line">printf(<span class="stringliteral">&quot;\nselect a device using the number (or press any key to use default):\n\n&quot;</span>);</div>
<div class="line"><span class="keywordtype">int</span> deviceNumber = getch() - <span class="charliteral">&#39;0&#39;</span>;</div>
<div class="line"></div>
<div class="line"><span class="comment">// create recording device with the selected driver</span></div>
<div class="line"></div>
<div class="line"><span class="keyword">const</span> <span class="keywordtype">char</span>* deviceID = deviceList-&gt;<a class="code" href="classirrklang_1_1ISoundDeviceList.html#a77509686d507ea5939a50d31ca8fdf93">getDeviceID</a>(deviceNumber);</div>
<div class="line"><a class="code" href="classirrklang_1_1ISoundEngine.html">irrklang::ISoundEngine</a>* engine = <a class="code" href="namespaceirrklang.html#ad9829f898bc0665fdd2554a6f5c7ca1c">irrklang::createIrrKlangDevice</a>();</div>
<div class="line"><a class="code" href="classirrklang_1_1IAudioRecorder.html">irrklang::IAudioRecorder</a>* recorder = </div>
<div class="line">   <a class="code" href="namespaceirrklang.html#aaa4535359bd66857aaadb746cf7d8cec">irrklang::createIrrKlangAudioRecorder</a>(engine, <a class="code" href="namespaceirrklang.html#a77f31ac02a7d33fe94807be709f72afea8cc9863f3b410698313b8637721e51ec">irrklang::ESOD_AUTO_DETECT</a>, deviceID);</div>
</div><!-- fragment --><p><br />
 <br />
 <br />
 <br />
</p>
<h1><a class="anchor" id="unicode"></a>
Unicode support</h1>
<p>irrKlang supports unicode on all operating systems. Internally, it uses UTF8, and all functions accepting strings and file names take UTF8 strings. If you are running irrKlang on Windows, and are using the UNICODE define or using wchar_t* strings directly, you can do this as well. Use the irrKlang provided function <a class="el" href="namespaceirrklang.html#a2552f41aac247b77e0f1287c28744cd7" title="Converts a wchar_t string to an utf8 string, useful when using Windows in unicode mode...">makeUTF8fromUTF16string()</a> to convert your wchar_t* string to a char* string.</p>
<p>This example shows how:</p>
<div class="fragment"><div class="line"><span class="keyword">const</span> <span class="keywordtype">wchar_t</span>* yourFilename = L<span class="stringliteral">&quot;SomeUnicodeFilename.wav&quot;</span>; <span class="comment">// assuming this is the file name you get from some of your functions</span></div>
<div class="line"></div>
<div class="line"><span class="keyword">const</span> <span class="keywordtype">int</span> nBufferSize = 2048; <span class="comment">// large enough, but best would be wcslen(yourFilename)*3.</span></div>
<div class="line"><span class="keywordtype">char</span> strBuffer[nBufferSize]; </div>
<div class="line"><a class="code" href="namespaceirrklang.html#a2552f41aac247b77e0f1287c28744cd7">irrklang::makeUTF8fromUTF16string</a>(yourFilename, strBuffer, nBufferSize);</div>
<div class="line"></div>
<div class="line"><span class="comment">// now the converted file name is in strBuffer. We can play it for example now:</span></div>
<div class="line">engine-&gt;<a class="code" href="classirrklang_1_1ISoundEngine.html#a25f612fe6479d3b22dc5bab2a2eaa927">play2D</a>(strBuffer);</div>
</div><!-- fragment --><p>Of course, you can use any other unicode converion function for this. <a class="el" href="namespaceirrklang.html#a2552f41aac247b77e0f1287c28744cd7" title="Converts a wchar_t string to an utf8 string, useful when using Windows in unicode mode...">makeUTF8fromUTF16string()</a> is only provided for convenience. <br />
 <br />
 <br />
 <br />
</p>
<h1><a class="anchor" id="quickstartexample"></a>
Quick Start Example</h1>
<p>To simply start the engine and play a mp3 file, use code like this:</p>
<div class="fragment"><div class="line"><span class="preprocessor">#include &lt;iostream&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="irrKlang_8h.html">irrKlang.h</a>&gt;</span></div>
<div class="line"><span class="preprocessor">#pragma comment(lib, &quot;irrKlang.lib&quot;) // link with irrKlang.dll</span></div>
<div class="line"></div>
<div class="line"><span class="keywordtype">int</span> <a class="code" href="main_8cpp.html#a840291bc02cba5474a4cb46a9b9566fe">main</a>(<span class="keywordtype">int</span> argc, <span class="keyword">const</span> <span class="keywordtype">char</span>** argv)</div>
<div class="line">{</div>
<div class="line">       <a class="code" href="classirrklang_1_1ISoundEngine.html">irrklang::ISoundEngine</a>* engine = <a class="code" href="namespaceirrklang.html#ad9829f898bc0665fdd2554a6f5c7ca1c">irrklang::createIrrKlangDevice</a>();</div>
<div class="line">       <span class="keywordflow">if</span> (!engine) <span class="keywordflow">return</span> 1; <span class="comment">// could not start engine</span></div>
<div class="line"></div>
<div class="line">       engine-&gt;<a class="code" href="classirrklang_1_1ISoundEngine.html#a25f612fe6479d3b22dc5bab2a2eaa927">play2D</a>(<span class="stringliteral">&quot;someMusic.mp3&quot;</span>, <span class="keyword">true</span>); <span class="comment">// play some mp3 file, looped</span></div>
<div class="line"></div>
<div class="line">       std::cin.get(); <span class="comment">// wait until user presses a key</span></div>
<div class="line"></div>
<div class="line">       engine-&gt;<a class="code" href="classirrklang_1_1IRefCounted.html#a869fe3adc6e49e8da105e95837a565b1">drop</a>(); <span class="comment">// delete engine</span></div>
<div class="line">       <span class="keywordflow">return</span> 0;</div>
<div class="line">} </div>
</div><!-- fragment --><p>A mp3 file is being played until the user presses enter in this example. As you can see, irrKlang uses <a href="namespaces.html">namespaces</a>, all of the classes are located in the namespace irrklang. If you don't want to write this in front of every class and function you are using, simply write</p>
<div class="fragment"><div class="line"><span class="keyword">using namespace </span><a class="code" href="namespaceirrklang.html">irrklang</a>;</div>
</div><!-- fragment --><p> in front of your code, as also shown in the next example. <br />
 <br />
 <br />
 <br />
</p>
<h1><a class="anchor" id="quickstartexample2"></a>
Quick Start Example 2</h1>
<p>The following is a simple interactive application, starting up the sound engine and playing some streaming .ogg music file and a .wav sound effect every time the user presses a key.</p>
<div class="fragment"><div class="line"><span class="preprocessor">#include &lt;iostream&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="irrKlang_8h.html">irrKlang.h</a>&gt;</span></div>
<div class="line"><span class="keyword">using namespace </span><a class="code" href="namespaceirrklang.html">irrklang</a>;</div>
<div class="line"></div>
<div class="line"><span class="preprocessor">#pragma comment(lib, &quot;irrKlang.lib&quot;) // link with irrKlang.dll</span></div>
<div class="line"></div>
<div class="line"></div>
<div class="line"><span class="keywordtype">int</span> <a class="code" href="main_8cpp.html#a840291bc02cba5474a4cb46a9b9566fe">main</a>(<span class="keywordtype">int</span> argc, <span class="keyword">const</span> <span class="keywordtype">char</span>** argv)</div>
<div class="line">{</div>
<div class="line">       <span class="comment">// start the sound engine with default parameters</span></div>
<div class="line">       <a class="code" href="classirrklang_1_1ISoundEngine.html">ISoundEngine</a>* engine = <a class="code" href="namespaceirrklang.html#ad9829f898bc0665fdd2554a6f5c7ca1c">createIrrKlangDevice</a>();</div>
<div class="line"></div>
<div class="line">       <span class="keywordflow">if</span> (!engine)</div>
<div class="line">               <span class="keywordflow">return</span> 0; <span class="comment">// error starting up the engine</span></div>
<div class="line"></div>
<div class="line">       <span class="comment">// play some sound stream, looped</span></div>
<div class="line">       engine-&gt;<a class="code" href="classirrklang_1_1ISoundEngine.html#a25f612fe6479d3b22dc5bab2a2eaa927">play2D</a>(<span class="stringliteral">&quot;../../media/helltroopers.ogg&quot;</span>, <span class="keyword">true</span>);</div>
<div class="line"></div>
<div class="line">       std::cout &lt;&lt; <span class="stringliteral">&quot;\nHello World!\n&quot;</span>;</div>
<div class="line"></div>
<div class="line">       <span class="keywordtype">char</span> i = 0;</div>
<div class="line"></div>
<div class="line">       <span class="keywordflow">while</span>(i != <span class="charliteral">&#39;q&#39;</span>)</div>
<div class="line">       {</div>
<div class="line">               std::cout &lt;&lt; <span class="stringliteral">&quot;Press any key to play some sound, press &#39;q&#39; to quit.\n&quot;</span>;</div>
<div class="line"></div>
<div class="line">               <span class="comment">// play a single sound</span></div>
<div class="line">               engine-&gt;<a class="code" href="classirrklang_1_1ISoundEngine.html#a25f612fe6479d3b22dc5bab2a2eaa927">play2D</a>(<span class="stringliteral">&quot;../../media/bell.wav&quot;</span>);</div>
<div class="line"></div>
<div class="line">               std::cin &gt;&gt; i; <span class="comment">// wait for user to press some key</span></div>
<div class="line">       }</div>
<div class="line"></div>
<div class="line">       engine-&gt;<a class="code" href="classirrklang_1_1IRefCounted.html#a869fe3adc6e49e8da105e95837a565b1">drop</a>(); <span class="comment">// delete engine</span></div>
<div class="line">       <span class="keywordflow">return</span> 0;</div>
<div class="line">}</div>
</div><!-- fragment --> </div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.10
</small></address>
</body>
</html>
